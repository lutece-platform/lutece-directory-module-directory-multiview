<script src="js/plugins/directory/modules/multiview/user/user_info.js"></script>
<div id="template-user-infos">
		<div id="user-identity-infos">
        <#-- Field set for commons infos -->
		<fieldset>
                    <legend class='text-center'>#i18n{module.directory.multiview.view_directoryrecord.user_infos.group.civility}</legend>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.first_name}'> <@attribute 'first_name'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.family_name}'> <@attribute 'family_name'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.email}'> <@attribute 'email'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.birthdate}'> <@attribute 'birthdate'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.birth_city}'> <@attribute 'birth_city'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.birth_country}'> <@attribute 'birth_country'/></@formGroup2>
		<fieldset>
		<fieldset>
                    <legend class='text-center'>#i18n{module.directory.multiview.view_directoryrecord.user_infos.group.business}</legend>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.staff_number}'> <@attribute 'staff_number'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.category_index}'> <@attribute 'category_index'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.rank_index}'> <@attribute 'rank_index'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.administrative_situation}'> <@attribute 'administrative_situation'/></@formGroup2>
		</fieldset>
		<fieldset>
                    <legend class='text-center'>#i18n{module.directory.multiview.view_directoryrecord.user_infos.group.contact}</legend>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_street_number}'> <@attribute 'address_street_number'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_bis_ter}'> <@attribute 'address_bis_ter'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_street_name}'> <@attribute 'address_street_name'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_detail}'> <@attribute 'address_detail'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_detail_2}'> <@attribute 'address_detail_2'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_building}'> <@attribute 'address_building'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_straircase}'> <@attribute 'address_straircase'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_floor}'> <@attribute 'address_floor'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_postal_code}'> <@attribute 'address_postal_code'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.address_city}'> <@attribute 'address_city'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.fixed_phone}'> <@attribute 'fixed_phone'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.mobile_phone}'> <@attribute 'mobile_phone'/></@formGroup2>
		</fieldset>
		<fieldset>
                    <legend class='text-center'>#i18n{module.directory.multiview.view_directoryrecord.user_infos.group.emergency}</legend>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.emergency_contact}'> <@attribute 'emergency_contact'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.emergency_phone}'> <@attribute 'emergency_phone'/></@formGroup2>
                    <@formGroup2 labelKey='#i18n{module.directory.multiview.view_directoryrecord.user_infos.fieldSet.commons.crisis_contact}'> <@attribute 'crisis_contact'/></@formGroup2>
                    </legend>
                </fieldset>
    </div>
</div>
<#macro attribute attributeKey>
    ${user_attributes[attributeKey!''].value!''}
</#macro>
<script>
$('#template-user-infos').hide();
</script>

<#macro formGroup2 formStyle='horizontal' class='' groupStyle='' rows=1 labelKey='' labelFor='' labelId='' helpKey='' id='' mandatory=false showLabel=true params=''>
	<div class="form-group<#if groupStyle!=''> has-${groupStyle} has-feedback</#if><#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
		<#if rows=1>
			<#if labelKey!='' && formStyle='horizontal'>
				<#assign labelClass = "key col-xs-12 col-sm-5 control-label">
				<#assign divClass = "value col-xs-12 col-sm-2 col-md-6 col-lg-6">
			<#elseif formStyle = 'inline'>
				<#assign labelClass = ''>
			<#else>
				<#assign divClass="col-xs-12 col-sm-6">
			</#if>
		<#else>
			<#assign labelClass = "col-xs-12">
			<#assign divClass = "col-xs-12">
		</#if>
		<#if labelKey!=''>
		<label class="${labelClass}<#if showLabel=false> sr-only</#if>" for="${labelFor}"<#if labelId!=''> id="${labelId}"</#if>>
			${labelKey}
			<#if mandatory=false>
				&#160;
			<#elseif mandatory=true>
				&#160;<@icon style='asterisk' />
			</#if>
		</label>
		</#if>
		<#if formStyle="horizontal">
		<div class="${divClass}">
		</#if>
			<#assign mandatory = mandatory>
			<#assign labelFor = labelFor>
			<#assign helpKey = helpKey>
			<#nested>
			<#if class='success'>
				<@icon style='check' class='form-control-feedback' />
			<#elseif class='warning'>
				<@icon style='warning' class='form-control-feedback' />
			<#elseif class='error'>
				<@icon style='close' class='form-control-feedback' />
			</#if>
			<#if helpKey!='' && formStyle!='inline'><span class="help-block" <#if labelFor!=''>id="${labelFor}_help"</#if>>${helpKey}</span></#if>
		<#if formStyle="horizontal">
		</div>
		</#if>
	</div>
</#macro>
